<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640">

    <link rel="stylesheet" href="stylesheets/core.css" media="screen">
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
    <link rel="stylesheet" href="stylesheets/github-light.css">

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>HLTV Scorebot by Nols1000</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/Nols1000/hltv-scorebot">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>HLTV Scorebot</h1>
            <h2>Node.js and Browser implementation of the HLTV.ORG-Scorebot.</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/Nols1000/hltv-scorebot/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/Nols1000/hltv-scorebot/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting started</h2>

<p><strong>Get the module with the npm:</strong></p>

<pre><code>npm install hltv-scorebot
</code></pre>

<p><strong>Install manually:</strong></p>

<ol>
<li>Download the latest build of the module at <a href="https://github.com/Nols1000/hltv-scorebot/releases">Releases</a>.</li>
<li>Extract the package and copy it to your projects <code>node_modules</code>-folder</li>
<li>Rename the module-folder (e.g. <code>hltv-scorebot-0.1.4</code>) to <code>hltv-scorebot</code>
</li>
<li>Execute your console in the module-folder (<code>hltv-scorebot</code>)</li>
<li>Execute <code>npm install</code> (This should download and install all dependencies [currently only <code>socket.io-client@1.3.5</code>. Check out <code>package.json</code>]) </li>
</ol>

<p><strong>Using HLTV-Scorebot:</strong></p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> Scorebot <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>hltv-scorebot<span class="pl-pds">'</span></span>);

<span class="pl-k">var</span> sb <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Scorebot</span>();
    sb.connect(<span class="pl-s"><span class="pl-pds">'</span>http://scorebot.hltv.org<span class="pl-pds">'</span></span>, <span class="pl-c1">10023</span>, <span class="pl-c1">36747</span>)  <span class="pl-c">// Match 36747 was CLG vs eBettle at ESL One Cologne 2015</span>
                                                          <span class="pl-c">// Check out the helper-branch for example data</span>
    sb.on(<span class="pl-s"><span class="pl-pds">'</span>kill<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">killer</span>, <span class="pl-smi">victim</span>, <span class="pl-smi">weapon</span>, <span class="pl-smi">headshot</span>, <span class="pl-smi">assister</span>) {

        <span class="pl-k">var</span> killerName <span class="pl-k">=</span> killer.<span class="pl-c1">name</span>;

        <span class="pl-c">// Checking if assister exists</span>
        <span class="pl-k">if</span>(assister)
            killerName <span class="pl-k">=</span> killer.<span class="pl-c1">name</span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> and <span class="pl-pds">"</span></span> <span class="pl-k">+</span> assister.<span class="pl-c1">name</span>;  

        <span class="pl-en">console</span><span class="pl-c1">.log</span>(killer.<span class="pl-c1">name</span>, <span class="pl-s"><span class="pl-pds">'</span>killed<span class="pl-pds">'</span></span>, vicitim.<span class="pl-c1">name</span>, <span class="pl-s"><span class="pl-pds">'</span>with<span class="pl-pds">'</span></span>, weapon, headshot <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">'</span>headshot<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
    });</pre></div>

<h2>
<a id="constants" class="anchor" href="#constants" aria-hidden="true"><span class="octicon octicon-link"></span></a>Constants</h2>

<ul>
<li>### Team

<ul>
<li><code>TERRORIST = 0</code></li>
<li><code>COUNTERTERRORIST = 1</code></li>
</ul>
</li>
</ul>

<h2>
<a id="methods" class="anchor" href="#methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods</h2>

<ul>
<li>
<code>connect(url, port, matchid)</code>

<ul>
<li>
<code>url</code> the ip of the scorebot server (def. <code>http://scorebot.hltv.org</code>).</li>
<li>
<code>port</code> the port of the scorebot server (def. <code>10023</code>).</li>
<li>
<code>matchid</code> identifier for your wanted match. <a href="https://github.com/andrewda">andrewda</a> made a module to get the matchid <a href="https://github.com/andrewda/hltv-live-games">https://github.com/andrewda/hltv-live-games</a>
</li>
</ul>
</li>
<li>
<code>on(event, callback)</code>

<ul>
<li>
<code>event</code>

<ul>
<li>
<code>time</code>

<ul>
<li><code>callback: function(time) [int]</code></li>
<li>updates game clock every second </li>
<li>freeze timer is <strong>experimental</strong>
</li>
</ul>
</li>
<li>
<code>score</code>

<ul>
<li><code>callback: function(tscore, ctscore) [int, int]</code></li>
<li>updates score every round after <code>roundend</code>
</li>
</ul>
</li>
<li>
<code>player</code>

<ul>
<li><code>callback: function(playermanager) [PlayerManager]</code></li>
<li>updates playermanager every time a player is updated</li>
</ul>
</li>
<li>
<code>kill</code>

<ul>
<li><code>callback: function(killer, victim, weapon, headshot, assister) [Player, Player, String, boolean, Player]</code></li>
<li>triggers callback when <code>killer</code> kills <code>victim</code> with <code>weapon</code>
</li>
<li>assister is <strong>optional</strong>
</li>
</ul>
</li>
<li>
<code>assist</code>

<ul>
<li><code>callback: function(assister, victim) [Player, Player]</code></li>
<li>triggers callback when <code>assister</code> assists in a kill of <code>victim</code>
</li>
</ul>
</li>
<li>
<code>bombplanted</code>

<ul>
<li><code>callback: function(planter) [Player]</code></li>
<li>triggers callback when bomb is planted</li>
</ul>
</li>
<li>
<code>bombdefused</code>

<ul>
<li><code>callback: function(defuser) [Player]</code></li>
<li>triggers callback when bomb is defused</li>
</ul>
</li>
<li>
<code>roundstart</code>

<ul>
<li><code>callback: function()</code></li>
<li>triggers callback when round starts</li>
</ul>
</li>
<li>
<code>roundend</code>

<ul>
<li><code>callback: function(winner, tscore, ctscore) [int, int, int]</code></li>
<li>triggers callback when round ends</li>
<li>
<code>winner</code> 0 | 1 (0 - T | 1 - CT)</li>
</ul>
</li>
<li>
<code>playerjoin</code>

<ul>
<li><code>callback: function(player) [Player]</code></li>
<li>triggers callback when a player joins the server</li>
</ul>
</li>
<li>
<code>playerquit</code>

<ul>
<li><code>callback: function(player) [Player]</code></li>
<li>triggers callback when a player leaves the server</li>
</ul>
</li>
<li>
<code>mapchange</code>

<ul>
<li><code>callback: function(map) [String]</code></li>
<li>triggers callback when the server changes map</li>
</ul>
</li>
<li>
<code>restart</code>

<ul>
<li><code>callback: function()</code></li>
<li>triggers callback when server restarts</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2>
<a id="classes" class="anchor" href="#classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Classes</h2>

<ul>
<li>
<code>Scorebot.Player</code>

<ul>
<li><code>id [int]</code></li>
<li><code>steamID [String]</code></li>
<li><code>name [String]</code></li>
<li><code>team [int]</code></li>
<li><code>kills [int]</code></li>
<li><code>assists [int]</code></li>
<li><code>deaths [int]</code></li>
<li><code>alive [boolean]</code></li>
</ul>
</li>
<li>
<code>Scorebot.HLTVPlayer</code>

<ul>
<li><code>name [String]</code></li>
<li><code>team [int]</code></li>
<li><code>kills [int]</code></li>
<li><code>deaths [int]</code></li>
<li><code>alive [boolean]</code></li>
</ul>
</li>
<li>
<code>Scorebot.KPlayer</code>

<ul>
<li><code>id [int]</code></li>
<li><code>steamID [String]</code></li>
<li><code>name [String]</code></li>
<li><code>team [int]</code></li>
</ul>
</li>
<li>
<code>Scorebot.APlayer</code>

<ul>
<li><code>id [int]</code></li>
<li><code>name [String]</code></li>
<li><code>team [int]</code></li>
<li>NODE: Assist will be counted when merge with <code>Player</code>
</li>
</ul>
</li>
<li>
<code>Scorebot.PlayerManager</code>

<ul>
<li>
<code>TERRORIST [int]</code>

<ul>
<li>0</li>
</ul>
</li>
<li>
<code>COUNTERTERRORIST [int]</code>

<ul>
<li>1</li>
</ul>
</li>
<li>
<code>playerList[team][index] [Array]</code>

<ul>
<li>2 dimensional array</li>
<li>stores all players</li>
</ul>
</li>
<li>
<code>set(team, player) [function]</code>

<ul>
<li>append/update player <code>player</code> in team <code>team</code>
</li>
</ul>
</li>
<li>
<code>get(team, index) [function]</code>

<ul>
<li>returns the player in team <code>team</code> at <code>index</code>
</li>
</ul>
</li>
<li>
<code>getIndex(name) [function]</code>

<ul>
<li>returns object with team and index of the player with the name <code>name</code>
</li>
<li>return: <code>{ 'team': 0, 'index': 0 }</code>
</li>
<li>returns <code>{ 'team': -1, 'index': -1 }</code> if there is no player with the name <code>name</code>
</li>
</ul>
</li>
<li>
<code>getByName(name) [function]</code>

<ul>
<li>returns player with the name <code>name</code>
</li>
</ul>
</li>
<li>
<code>getByNameAsync(name, callback) [function]</code>

<ul>
<li>calls the callback with player with the name <code>name</code> as argument</li>
<li>callback: <code>function(error, player)</code>
</li>
</ul>
</li>
<li>
<code>del(name) [function]</code>

<ul>
<li>deletes player with the name <code>name</code>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<h2>
<a id="known-bugs" class="anchor" href="#known-bugs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Known Bugs</h2>

<ul>
<li>Assists counter wont reset after warm-up</li>
</ul>

<h2>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h2>

<p>To be done </p>

<p><strong>(Try the examples Folder at the <a href="https://github.com/Nols1000/hltv-scorebot">hltv-scorebot repository</a>)</strong></p>

<hr>

<p>I'm sorry for my poor English. If you have some problems understanding the module, the README or my documentation please mail me (nilsmargotti [at] gmail [dot] com).</p>

<p>Every Feedback is welcome.</p>

<p><em>Nils 'Nols1000' Margotti</em></p>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/Nols1000">Nols1000</a> can be found on <a href="https://github.com/Nols1000/hltv-scorebot">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="https://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-44437967-4");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
